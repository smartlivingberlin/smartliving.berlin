<!doctype html><meta charset="utf-8"><title>Details</title>
<link rel="stylesheet" href="app.css">
<style>
.main{max-width:980px;margin:40px auto;padding:0 16px}
.hero-img{width:100%;height:auto;border-radius:10px;margin:10px 0}
.meta{font-size:.9rem;opacity:.7;margin:8px 0}
</style>
<div class="main">
  <div class="header"><a class="btn" href="index.html">← Zurück</a></div>
  <h1 id="title"></h1>
  <div id="meta" class="meta"></div>
  <img id="img" class="hero-img" alt="">
  <p id="excerpt"></p>
  <div id="actions"></div>
</div>
<script src="crisp.js"></script>
<script>
function slugify(s){return (s||'').toLowerCase().replace(/ä/g,'ae').replace(/ö/g,'oe').replace(/ü/g,'ue').replace(/ß/g,'ss').replace(/[^a-z0-9]+/g,'-').replace(/(^-|-$)/g,'');}
const sp=new URLSearchParams(location.search); const wanted=sp.get('slug')||'';
fetch('content.json').then(r=>r.json()).then(items=>{
  const item=items.find(i=>(i.slug&&i.slug===wanted)||slugify(i.title)===wanted)||items[0];
  if(!item){document.querySelector('.main').innerHTML='<p>Nicht gefunden.</p>';return;}
  document.title=item.title+' – SmartLivingBerlin';
  title.textContent=item.title||''; excerpt.textContent=item.excerpt||'';
  if(item.img){img.src=item.img;img.alt=item.title||'';} else {img.remove();}
  meta.textContent=[item.topic,item.date].filter(Boolean).join(' • ');
  const a=document.createElement('a'); a.className='btn btn-chat'; a.href='#'; a.textContent='Frage stellen';
  a.addEventListener('click',e=>{e.preventDefault();window.$crisp&&window.$crisp.push(['do','chat:open']);});
  actions.appendChild(a);
});
</script>
<script src="app.js"></script>
